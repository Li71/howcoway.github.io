@using DevStudio;
@model goshopping.Models.Orders

@{
    ViewBag.Title = "訂單狀態變更";
    Layout = "~/Views/Shared/_LayoutEdit.cshtml";
}

@using (Html.BeginForm("ChangeStatus", "Orders", new { area = "Admin" }, FormMethod.Post, new { id = "popupForm" }))
{
    @Html.HiddenFor(model => model.rowid)
    @Html.HiddenFor(model => model.order_no)
    @Html.HiddenFor(model => model.order_date)
    @Html.HiddenFor(model => model.user_no)
    @Html.HiddenFor(model => model.payment_no)
    @Html.HiddenFor(model => model.shipping_no)
    @Html.HiddenFor(model => model.receive_name)
    @Html.HiddenFor(model => model.receive_email)
    @Html.HiddenFor(model => model.receive_address)
    @Html.HiddenFor(model => model.amounts)
    @Html.HiddenFor(model => model.taxs)
    @Html.HiddenFor(model => model.totals)
    @Html.HiddenFor(model => model.remark)
    @Html.HiddenFor(model => model.order_guid)
    @Html.HiddenFor(model => model.order_closed)

    <div class="form-group">
        @Html.LabelFor(model => model.order_no, htmlAttributes: new { @class = "control-label control-header" })
        @Html.Label("：", htmlAttributes: new { @class = "control-label control-header" })
        @if (Model.order_no != null)
        {<span class="control-label control-value">@Model.order_no</span>}
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.order_date, htmlAttributes: new { @class = "control-label control-header" })
        @Html.Label("：", htmlAttributes: new { @class = "control-label control-header" })
        @if (Model.order_date != null)
        {<span class="control-label control-value">@DateTime.Parse(Model.order_date.ToString()).ToString("yyyy/MM/dd") </span>}
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.user_no, htmlAttributes: new { @class = "control-label control-header" })
        @Html.Label("：", htmlAttributes: new { @class = "control-label control-header" })
        @if (Model.user_no != null)
        {<span class="control-label control-value">@string.Format("{0} {1}", Model.user_no, Shop.GetUserName(Model.user_no))</span>}
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.order_status, htmlAttributes: new { @class = "control-label control-header" })
        @Html.Label("：", htmlAttributes: new { @class = "control-label control-header" })
        @Html.DropDownList("order_status", (IEnumerable<SelectListItem>)ViewBag.SelectList, new { @class = "form-control" })
    </div>

    <div>
        <input type="submit" value="狀態變更" class="btn btn-danger form-button" />
    </div>
}
